/*******************************************************
* Copyright (C) 2018-2022 WP Interactive Media, Inc. - All Rights Reserved
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
*******************************************************/
(()=>{"use strict";var t=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{a(o.next(t))}catch(t){r(t)}}function c(t){try{a(o.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((o=o.apply(t,e||[])).next())}))};function e(t){if("string"!=typeof t||!t)throw new Error("expected a non-empty string, got: "+t)}function n(t){if("number"!=typeof t)throw new Error("expected a number, got: "+t)}const o="emoji",i="keyvalue",r="favorites",s="tokens",c="count",a="group-order",u="eTag",l="url",d="skinTone",f="readonly",m="readwrite",h="skinUnicodes";function p(t){return function(t,e){const n=new Set,o=[];for(const i of t){const t=e(i);n.has(t)||(n.add(t),o.push(i))}return o}(t,(t=>t.unicode))}const v={},b={},g={};function y(t,e,n){n.onerror=()=>e(n.error),n.onblocked=()=>e(new Error("IDB blocked")),n.onsuccess=()=>t(n.result)}function k(e){return t(this,void 0,void 0,(function*(){const t=yield new Promise(((t,n)=>{const u=indexedDB.open(e,1);v[e]=u,u.onupgradeneeded=t=>{t.oldVersion<1&&function(t){function e(e,n,o){const i=n?t.createObjectStore(e,{keyPath:n}):t.createObjectStore(e);if(o)for(const[t,[e,n]]of Object.entries(o))i.createIndex(t,e,{multiEntry:n});return i}e(i),e(o,"unicode",{[s]:["tokens",!0],[a]:[["group","order"]],[h]:["skinUnicodes",!0]}),e(r,void 0,{[c]:[""]})}(u.result)},y(t,n,u)}));return t.onclose=()=>w(e),t}))}function j(t,e,n,o){return new Promise(((i,r)=>{const s=t.transaction(e,n,{durability:"relaxed"}),c="string"==typeof e?s.objectStore(e):e.map((t=>s.objectStore(t)));let a;o(c,s,(t=>{a=t})),s.oncomplete=()=>i(a),s.onerror=()=>r(s.error)}))}function w(t){const e=v[t],n=e&&e.result;if(n){n.close();const e=g[t];if(e)for(const t of e)t()}delete v[t],delete b[t],delete g[t]}const x=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function E(t){return t.split(/[\s_]+/).map((t=>!t.match(/\w/)||x.has(t)?t.toLowerCase():t.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase())).filter(Boolean)}function z(t){return t.filter(Boolean).map((t=>t.toLowerCase())).filter((t=>t.length>=2))}function S(t,e,n,o){t[e](n).onsuccess=t=>o&&o(t.target.result)}function T(t,e,n){S(t,"get",e,n)}function _(t,e,n){S(t,"getAll",e,n)}function $(t){t.commit&&t.commit()}function A(t,e){const n=function(t,e){let n=t[0];for(let o=1;o<t.length;o++){const i=t[o];e(n)>e(i)&&(n=i)}return n}(t,(t=>t.length)),o=[];for(const i of n)t.some((t=>-1===t.findIndex((t=>e(t)===e(i)))))||o.push(i);return o}function D(e,n,r,s){return t(this,void 0,void 0,(function*(){try{const t=function(t){return t.map((({annotation:t,emoticon:e,group:n,order:o,shortcodes:i,skins:r,tags:s,emoji:c,version:a})=>{const u=[...new Set(z([...(i||[]).map(E).flat(),...s.map(E).flat(),...E(t),e]))].sort(),l={annotation:t,group:n,order:o,tags:s,tokens:u,unicode:c,version:a};if(e&&(l.emoticon=e),i&&(l.shortcodes=i),r){l.skinTones=[],l.skinUnicodes=[],l.skinVersions=[];for(const{tone:t,emoji:e,version:n}of r)l.skinTones.push(t),l.skinUnicodes.push(e),l.skinVersions.push(n)}return l}))}(n);yield j(e,[o,i],m,(([e,n],o)=>{let i,c,a=0;function d(){2==++a&&function(){if(i===s&&c===r)return;e.clear();for(const n of t)e.put(n);n.put(s,u),n.put(r,l),$(o)}()}T(n,u,(t=>{i=t,d()})),T(n,l,(t=>{c=t,d()}))}))}finally{}}))}function C(e,n){return t(this,void 0,void 0,(function*(){const t=z(E(n));return t.length?j(e,o,f,((e,n,o)=>{const i=[],r=()=>{const t=A(i,(t=>t.unicode));o(t.sort(((t,e)=>t.order<e.order?-1:1)))};for(let n=0;n<t.length;n++){const o=t[n],c=n===t.length-1?IDBKeyRange.bound(o,o+"￿",!1,!0):IDBKeyRange.only(o);_(e.index(s),c,(e=>{i.push(e),i.length===t.length&&r()}))}})):[]}))}function M(e,n){return t(this,void 0,void 0,(function*(){const i=yield C(e,n);if(!i.length){const i=t=>(t.shortcodes||[]).includes(n.toLowerCase());return(yield function(e,n){return t(this,void 0,void 0,(function*(){return j(e,o,f,((t,e,o)=>{let i;const r=()=>{t.getAll(i&&IDBKeyRange.lowerBound(i,!0),50).onsuccess=t=>{const e=t.target.result;for(const t of e)if(i=t.unicode,n(t))return o(t);if(e.length<50)return o();r()}};r()}))}))}(e,i))||null}return i.filter((t=>{const e=(t.shortcodes||[]).map((t=>t.toLowerCase()));return e.includes(n.toLowerCase())}))[0]||null}))}function O(t,e,n){return j(t,e,f,((t,e,o)=>T(t,n,o)))}const P=["name","url"];function B(t){!function(t){const e=t&&Array.isArray(t),n=e&&t.length&&(!t[0]||P.some((e=>!(e in t[0]))));if(!e||n)throw new Error("Custom emojis are in the wrong format")}(t);const e=(t,e)=>t.name.toLowerCase()<e.name.toLowerCase()?-1:1,n=t.sort(e),o=function(t,e){const n=new Map;for(const o of t){const t=e(o);for(const e of t){let t=n;for(let n=0;n<e.length;n++){const o=e.charAt(n);let i=t.get(o);i||(i=new Map,t.set(o,i)),t=i}let i=t.get("");i||(i=[],t.set("",i)),i.push(o)}}return(t,e)=>{let o=n;for(let e=0;e<t.length;e++){const n=t.charAt(e),i=o.get(n);if(!i)return[];o=i}if(e)return o.get("")||[];const i=[],r=[o];for(;r.length;){const t=[...r.shift().entries()].sort(((t,e)=>t[0]<e[0]?-1:1));for(const[e,n]of t)""===e?i.push(...n):r.push(n)}return i}}(t,(t=>[...new Set((t.shortcodes||[]).map((t=>E(t))).flat())])),i=t=>o(t,!0),r=t=>o(t,!1),s=new Map,c=new Map;for(const e of t){c.set(e.name.toLowerCase(),e);for(const t of e.shortcodes||[])s.set(t.toLowerCase(),e)}return{all:n,search:t=>{const n=E(t);return A(n.map(((t,e)=>(e<n.length-1?i:r)(t))),(t=>t.name)).sort(e)},byShortcode:t=>s.get(t.toLowerCase()),byName:t=>c.get(t.toLowerCase())}}function L(t){if(!t)return t;if(delete t.tokens,t.skinTones){const e=t.skinTones.length;t.skins=Array(e);for(let n=0;n<e;n++)t.skins[n]={tone:t.skinTones[n],unicode:t.skinUnicodes[n],version:t.skinVersions[n]};delete t.skinTones,delete t.skinUnicodes,delete t.skinVersions}return t}function U(t){t||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const F=["annotation","emoji","group","order","tags","version"];function I(t,e){if(2!==Math.floor(t.status/100))throw new Error("Failed to fetch: "+e+":  "+t.status)}function R(e){return t(this,void 0,void 0,(function*(){const t=yield fetch(e,{method:"HEAD"});I(t,e);const n=t.headers.get("etag");return U(n),n}))}function N(e){return t(this,void 0,void 0,(function*(){const t=yield fetch(e,{method:"GET"});let n,o;if(console.warn(t),I(t,e),t.type)n=yield t.json(),o=yield R(e);else{const e=yield t.text();o=t.headers.etag,n=JSON.parse(e),console.warn("Alternative Type Found")}return U(o),function(t){if(!t||!Array.isArray(t)||!t[0]||"object"!=typeof t[0]||F.some((e=>!(e in t[0]))))throw new Error("Emoji data is in the wrong format")}(n),[o,n]}))}function X(e){return t(this,void 0,void 0,(function*(){const t=function(t){for(var e=t.length,n=new ArrayBuffer(e),o=new Uint8Array(n),i=-1;++i<e;)o[i]=t.charCodeAt(i);return n}(JSON.stringify(e)),n=function(t){for(var e="",n=new Uint8Array(t),o=n.byteLength,i=-1;++i<o;)e+=String.fromCharCode(n[i]);return e}(yield crypto.subtle.digest("SHA-1",t));return btoa(n)}))}function q(e,n){return t(this,void 0,void 0,(function*(){let o,r=yield R(n);if(!r){const t=yield N(n);t=eTagAndData[1],r||(r=yield X(t))}if(yield function(e,n,o){return t(this,void 0,void 0,(function*(){const[t,r]=yield Promise.all([u,l].map((t=>O(e,i,t))));return t===o&&r===n}))}(e,n,r));else{if(!o){o=(yield N(n))[1]}yield D(e,o,n,r)}}))}class H{constructor({dataSource:t="chrome-extension://oocalimimngaihdkbihfgmpkcpnmlaoa/lib/tp_emoji/emoji-picker.json",locale:e="en",customEmoji:n=[]}={}){this.dataSource=t,this.locale=e,this.t=`emoji-picker-element-${this.locale}`,this.u=void 0,this.l=void 0,this.h=B(n),this.v=this.v.bind(this),this.g=this.k()}k(){return t(this,void 0,void 0,(function*(){const e=this.u=yield(n=this.t,b[n]||(b[n]=k(n)),b[n]);var n;!function(t,e){let n=g[t];n||(n=g[t]=[]),n.push(e)}(this.t,this.v);const o=this.dataSource,r=yield function(e){return t(this,void 0,void 0,(function*(){return!(yield O(e,i,l))}))}(e);r?yield function(e,n){return t(this,void 0,void 0,(function*(){let[t,o]=yield N(n);t||(t=yield X(o)),yield D(e,o,n,t)}))}(e,o):this.l=q(e,o)}))}ready(){return t(this,void 0,void 0,(function*(){const e=()=>t(this,void 0,void 0,(function*(){return this.g||(this.g=this.k()),this.g}));yield e(),this.u||(yield e())}))}getEmojiByGroup(e){return t(this,void 0,void 0,(function*(){return n(e),yield this.ready(),p(yield function(e,n){return t(this,void 0,void 0,(function*(){return j(e,o,f,((t,e,o)=>{const i=IDBKeyRange.bound([n,0],[n+1,0],!1,!0);_(t.index(a),i,o)}))}))}(this.u,e)).map(L)}))}getEmojiBySearchQuery(n){return t(this,void 0,void 0,(function*(){e(n),yield this.ready();return[...this.h.search(n),...p(yield C(this.u,n)).map(L)]}))}getEmojiByShortcode(n){return t(this,void 0,void 0,(function*(){e(n),yield this.ready();const t=this.h.byShortcode(n);return t||L(yield M(this.u,n))}))}getEmojiByUnicodeOrName(n){return t(this,void 0,void 0,(function*(){e(n),yield this.ready();const i=this.h.byName(n);return i||L(yield function(e,n){return t(this,void 0,void 0,(function*(){return j(e,o,f,((t,e,o)=>T(t,n,(e=>{if(e)return o(e);T(t.index(h),n,(t=>o(t||null)))}))))}))}(this.u,n))}))}getPreferredSkinTone(){return t(this,void 0,void 0,(function*(){return yield this.ready(),(yield O(this.u,i,d))||0}))}setPreferredSkinTone(e){return t(this,void 0,void 0,(function*(){return n(e),yield this.ready(),t=this.u,o=d,r=e,j(t,i,m,((t,e)=>{t.put(r,o),$(e)}));var t,o,r}))}incrementFavoriteEmojiCount(n){return t(this,void 0,void 0,(function*(){return e(n),yield this.ready(),t=this.u,o=n,j(t,r,m,((t,e)=>T(t,o,(n=>{t.put((n||0)+1,o),$(e)}))));var t,o}))}getTopFavoriteEmoji(e){return t(this,void 0,void 0,(function*(){return n(e),yield this.ready(),(yield function(t,e,n){return 0===n?[]:j(t,[r,o],f,(([t,o],i,r)=>{const s=[];t.index(c).openCursor(void 0,"prev").onsuccess=t=>{const i=t.target.result;if(!i)return r(s);function c(t){if(s.push(t),s.length===n)return r(s);i.continue()}const a=i.primaryKey,u=e.byName(a);if(u)return c(u);T(o,a,(t=>{if(t)return c(t);i.continue()}))}}))}(this.u,this.h,e)).map(L)}))}set customEmoji(t){this.h=B(t)}get customEmoji(){return this.h.all}j(){return t(this,void 0,void 0,(function*(){yield this.ready();try{yield this.l}catch(t){}}))}v(){this.u=this.g=this.l=void 0}close(){return t(this,void 0,void 0,(function*(){yield this.j(),yield w(this.t)}))}delete(){return t(this,void 0,void 0,(function*(){var t;yield this.j(),yield(t=this.t,new Promise(((e,n)=>{w(t),y(e,n,indexedDB.deleteDatabase(t))})))}))}}var J=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{a(o.next(t))}catch(t){r(t)}}function c(t){try{a(o.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((o=o.apply(t,e||[])).next())}))};function K(){}function Q(t){return t()}function Y(){return Object.create(null)}function G(t){t.forEach(Q)}function W(t){return"function"==typeof t}function Z(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let V,tt;function et(t,e){return V||(V=document.createElement("a")),V.href=e,t===V.href}function nt(t,e){t.appendChild(e)}function ot(t,e,n){t.insertBefore(e,n||null)}function it(t){t.parentNode.removeChild(t)}function rt(t){return document.createElement(t)}function st(t){return document.createTextNode(t)}function ct(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function at(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ut(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function lt(t,e){t.value=null==e?"":e}function dt(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function ft(t){tt=t}const mt=[],ht=[],pt=[],vt=[],bt=Promise.resolve();let gt=!1;function yt(){gt||(gt=!0,bt.then(Et))}function kt(){return yt(),bt}function jt(t){pt.push(t)}const wt=new Set;let xt=0;function Et(){const t=tt;do{for(;xt<mt.length;){const t=mt[xt];xt++,ft(t),zt(t.$$)}for(ft(null),mt.length=0,xt=0;ht.length;)ht.pop()();for(let t=0;t<pt.length;t+=1){const e=pt[t];wt.has(e)||(wt.add(e),e())}pt.length=0}while(mt.length);for(;vt.length;)vt.pop()();gt=!1,wt.clear(),ft(t)}function zt(t){if(null!==t.fragment){t.update(),G(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(jt)}}const St=new Set;function Tt(t,e){t&&t.i&&(St.delete(t),t.i(e))}const _t="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function $t(t,e){t.d(1),e.delete(t.key)}function At(t,e,n,o,i,r,s,c,a,u,l,d){let f=t.length,m=r.length,h=f;const p={};for(;h--;)p[t[h].key]=h;const v=[],b=new Map,g=new Map;for(h=m;h--;){const t=d(i,r,h),c=n(t);let a=s.get(c);a?o&&a.p(t,e):(a=u(c,t),a.c()),b.set(c,v[h]=a),c in p&&g.set(c,Math.abs(h-p[c]))}const y=new Set,k=new Set;function j(t){Tt(t,1),t.m(c,l),s.set(t.key,t),l=t.first,m--}for(;f&&m;){const e=v[m-1],n=t[f-1],o=e.key,i=n.key;e===n?(l=e.first,f--,m--):b.has(i)?!s.has(o)||y.has(o)?j(e):k.has(i)?f--:g.get(o)>g.get(i)?(k.add(o),j(e)):(y.add(i),f--):(a(n,s),f--)}for(;f--;){const e=t[f];b.has(e.key)||a(e,s)}for(;m;)j(v[m-1]);return v}function Dt(t,e,n,o,i,r,s,c=[-1]){const a=tt;ft(t);const u=t.$$={fragment:null,ctx:null,props:r,update:K,not_equal:i,bound:Y(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Y(),dirty:c,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let l=!1;u.ctx=n?n(t,e.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return u.ctx&&i(u.ctx[e],u.ctx[e]=r)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](r),l&&function(t,e){-1===t.$$.dirty[0]&&(mt.push(t),yt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],u.update(),l=!0,G(u.before_update),u.fragment=!!o&&o(u.ctx),e.target&&(u.fragment&&u.fragment.c(),e.intro&&Tt(t.$$.fragment),function(t,e,n,o){const{fragment:i,on_mount:r,on_destroy:s,after_update:c}=t.$$;i&&i.m(e,n),o||jt((()=>{const e=r.map(Q).filter(W);s?s.push(...e):G(e),t.$$.on_mount=[]})),c.forEach(jt)}(t,e.target,e.anchor,e.customElement),Et()),ft(a)}const Ct=[[-1,"✨","custom"],[10,"🕔","recents"],[0,"😀","smileys"],[3,"🐱","leaf"],[4,"🍎","food"],[5,"🏠️","places"],[6,"⚽","activities"],[7,"📝","objects"],[8,"⛔️","symbols"],[9,"🏁","flag"]].map((([t,e,n])=>({id:t,emoji:e,name:n}))),Mt=Ct.slice(1),Ot=Ct[0],Pt="function"==typeof requestIdleCallback?requestIdleCallback:setTimeout;function Bt(t){return t.unicode.includes("‍")}const Lt={"🫠":14,"🥲":13.1,"🥻":12.1,"🥰":11,"🤩":5,"👱‍♀️":4,"🤣":3,"👁️‍🗨️":2,"😀":1,"😐️":.7,"😃":.6},Ut=["😊","😒","♥️","👍️","😍","😂","😭","☺️","😔","😩","😏","💕","🙌","😘"],Ft=["😂","😍","😲","🙌","👍","👎","❤️","👋","🎉"],It='"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Twemoji Mozilla","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',Rt=(t,e)=>t<e?-1:t>e?1:0,Nt=(t,e)=>{const n=document.createElement("canvas");n.width=n.height=1;const o=n.getContext("2d");return o.textBaseline="top",o.font=`100px ${It}`,o.fillStyle=e,o.scale(.01,.01),o.fillText(t,0,0),o.getImageData(0,0,1,1).data};function Xt(t){const e=Nt(t,"#000"),n=Nt(t,"#fff");return e&&n&&((t,e)=>{const n=[...t].join(",");return n===[...e].join(",")&&!n.startsWith("0,0,0,")})(e,n)}const qt=new Promise((t=>Pt((()=>t(function(){const t=Object.entries(Lt);try{for(const[e,n]of t)if(Xt(e))return n}catch(t){}return t[0][1]}()))))),Ht=new Map;function Jt(t){t.preventDefault(),t.stopPropagation()}function Kt(t,e,n){return(e+=t?-1:1)<0?e=n.length-1:e>=n.length&&(e=0),e}function Qt(t,e){const n=new Set,o=[];for(const i of t){const t=e(i);n.has(t)||(n.add(t),o.push(i))}return o}const Yt=requestAnimationFrame;let Gt,Wt="function"==typeof ResizeObserver;function Zt(t){{const e=document.createRange();return e.selectNode(t.firstChild),e.getBoundingClientRect().width}}const{Map:Vt}=_t;function te(t,e,n){const o=t.slice();return o[73]=e[n],o[75]=n,o}function ee(t,e,n){const o=t.slice();return o[76]=e[n],o[78]=n,o}function ne(t,e,n){const o=t.slice();return o[79]=e[n],o[75]=n,o}function oe(t,e,n){const o=t.slice();return o[73]=e[n],o[75]=n,o}function ie(t,e,n){const o=t.slice();return o[76]=e[n],o}function re(t,e,n){const o=t.slice();return o[84]=e[n],o[75]=n,o}function se(t,e){let n,o,i,r,s,c,a,u=e[84]+"";return{key:t,first:null,c(){n=rt("div"),o=st(u),at(n,"id",i="skintone-"+e[75]),at(n,"class",r="emoji hide-focus "+(e[75]===e[19]?"active":"")),at(n,"aria-selected",s=e[75]===e[19]),at(n,"role","option"),at(n,"title",c=e[0].skinTones[e[75]]),at(n,"tabindex","-1"),at(n,"aria-label",a=e[0].skinTones[e[75]]),this.first=n},m(t,e){ot(t,n,e),nt(n,o)},p(t,l){e=t,256&l[0]&&u!==(u=e[84]+"")&&ut(o,u),256&l[0]&&i!==(i="skintone-"+e[75])&&at(n,"id",i),524544&l[0]&&r!==(r="emoji hide-focus "+(e[75]===e[19]?"active":""))&&at(n,"class",r),524544&l[0]&&s!==(s=e[75]===e[19])&&at(n,"aria-selected",s),257&l[0]&&c!==(c=e[0].skinTones[e[75]])&&at(n,"title",c),257&l[0]&&a!==(a=e[0].skinTones[e[75]])&&at(n,"aria-label",a)},d(t){t&&it(n)}}}function ce(t,e){let n,o,i,r,s,c,a,u,l=be(e[76].name)+"";function d(){return e[53](e[76])}return{key:t,first:null,c(){n=rt("button"),o=rt("div"),at(o,"class","nav-emoji emoji"),at(n,"role","tab"),at(n,"class","nav-button"),at(n,"aria-controls",i="tab-"+e[76].id),at(n,"aria-label",r=e[0].categories[e[76].name]),at(n,"aria-selected",s=!e[3]&&e[11].id===e[76].id),at(n,"title",c=e[0].categories[e[76].name]),this.first=n},m(t,e){ot(t,n,e),nt(n,o),o.innerHTML=l,a||(u=ct(n,"click",d),a=!0)},p(t,a){e=t,1024&a[0]&&l!==(l=be(e[76].name)+"")&&(o.innerHTML=l),1024&a[0]&&i!==(i="tab-"+e[76].id)&&at(n,"aria-controls",i),1025&a[0]&&r!==(r=e[0].categories[e[76].name])&&at(n,"aria-label",r),3080&a[0]&&s!==(s=!e[3]&&e[11].id===e[76].id)&&at(n,"aria-selected",s),1025&a[0]&&c!==(c=e[0].categories[e[76].name])&&at(n,"title",c)},d(t){t&&it(n),a=!1,u()}}}function ae(t){let e,n;return{c(){e=rt("img"),at(e,"class","custom-emoji"),et(e.src,n=t[73].url)||at(e,"src",n),at(e,"alt",""),at(e,"loading","lazy")},m(t,n){ot(t,e,n)},p(t,o){134217728&o[0]&&!et(e.src,n=t[73].url)&&at(e,"src",n)},d(t){t&&it(e)}}}function ue(t){let e,n=t[28](t[73],t[7])+"";return{c(){e=st(n)},m(t,n){ot(t,e,n)},p(t,o){134217856&o[0]&&n!==(n=t[28](t[73],t[7])+"")&&ut(e,n)},d(t){t&&it(e)}}}function le(t,e){let n,o,i,r,s,c,a,u;function l(t,e){return t[73].unicode?ue:ae}let d=l(e),f=d(e);return{key:t,first:null,c(){n=rt("div"),o=rt("button"),f.c(),at(o,"role",i=e[3]?"option":"menuitem"),at(o,"aria-selected",r=e[3]?e[75]==e[4]:""),at(o,"aria-label",s=e[29](e[73],e[7])),at(o,"title",c=e[73].title),at(o,"class",a="emoji "+(e[3]&&e[75]===e[4]?"active":"")),at(o,"id",u="emo-"+e[73].id),at(n,"class","emoji-wrapper"),this.first=n},m(t,e){ot(t,n,e),nt(n,o),f.m(o,null)},p(t,n){d===(d=l(e=t))&&f?f.p(e,n):(f.d(1),f=d(e),f&&(f.c(),f.m(o,null))),8&n[0]&&i!==(i=e[3]?"option":"menuitem")&&at(o,"role",i),134217752&n[0]&&r!==(r=e[3]?e[75]==e[4]:"")&&at(o,"aria-selected",r),134217856&n[0]&&s!==(s=e[29](e[73],e[7]))&&at(o,"aria-label",s),134217728&n[0]&&c!==(c=e[73].title)&&at(o,"title",c),134217752&n[0]&&a!==(a="emoji "+(e[3]&&e[75]===e[4]?"active":""))&&at(o,"class",a),134217728&n[0]&&u!==(u="emo-"+e[73].id)&&at(o,"id",u)},d(t){t&&it(n),f.d()}}}function de(t,e){let n,o,i,r,s,c,a=(e[3]?e[0].searchResultsLabel:e[79].category?e[79].category:e[13].length>1?e[0].categories.custom:e[0].categories[e[10][e[78]].name])+"",u=[],l=new Vt,d=e[79].emojis;const f=t=>t[73].id;for(let t=0;t<d.length;t+=1){let n=oe(e,d,t),o=f(n);l.set(o,u[t]=le(o,n))}return{key:t,first:null,c(){n=rt("div"),o=st(a),r=rt("div");for(let t=0;t<u.length;t+=1)u[t].c();at(n,"id",i=e[10][e[78]].name),at(n,"class","category"),at(n,"aria-hidden","true"),at(r,"class","emoji-menu"),at(r,"role",s=e[3]?"listbox":"menu"),at(r,"aria-labelledby","menu-label"),at(r,"id",c=e[3]?"search-results":`emoji-menu-${e[10][e[78]].name}`),this.first=n},m(t,e){ot(t,n,e),nt(n,o),ot(t,r,e);for(let t=0;t<u.length;t+=1)u[t].m(r,null)},p(t,m){e=t,134226953&m[0]&&a!==(a=(e[3]?e[0].searchResultsLabel:e[79].category?e[79].category:e[13].length>1?e[0].categories.custom:e[0].categories[e[10][e[78]].name])+"")&&ut(o,a),1024&m[0]&&i!==(i=e[10][e[78]].name)&&at(n,"id",i),939524248&m[0]&&(d=e[79].emojis,u=At(u,m,f,1,e,d,l,r,$t,le,null,oe)),8&m[0]&&s!==(s=e[3]?"listbox":"menu")&&at(r,"role",s),1032&m[0]&&c!==(c=e[3]?"search-results":`emoji-menu-${e[10][e[78]].name}`)&&at(r,"id",c)},d(t){t&&it(n),t&&it(r);for(let t=0;t<u.length;t+=1)u[t].d()}}}function fe(t){let e,n=[],o=new Vt,i=t[76]||[];const r=t=>t[79].category;for(let e=0;e<i.length;e+=1){let s=ne(t,i,e),c=r(s);o.set(c,n[e]=de(c,s))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=st("")},m(t,o){for(let e=0;e<n.length;e+=1)n[e].m(t,o);ot(t,e,o)},p(t,s){939533465&s[0]&&(i=t[76]||[],n=At(n,s,r,1,t,i,o,e.parentNode,$t,de,e,ne))},d(t){for(let e=0;e<n.length;e+=1)n[e].d(t);t&&it(e)}}}function me(t){let e,n;return{c(){e=rt("img"),at(e,"class","custom-emoji"),et(e.src,n=t[73].url)||at(e,"src",n),at(e,"alt",""),at(e,"loading","lazy")},m(t,n){ot(t,e,n)},p(t,o){512&o[0]&&!et(e.src,n=t[73].url)&&at(e,"src",n)},d(t){t&&it(e)}}}function he(t){let e,n=t[28](t[73],t[7])+"";return{c(){e=st(n)},m(t,n){ot(t,e,n)},p(t,o){640&o[0]&&n!==(n=t[28](t[73],t[7])+"")&&ut(e,n)},d(t){t&&it(e)}}}function pe(t,e){let n,o,i,r;function s(t,e){return t[73].unicode?he:me}let c=s(e),a=c(e);return{key:t,first:null,c(){n=rt("button"),a.c(),at(n,"role","menuitem"),at(n,"aria-label",o=e[29](e[73],e[7])),at(n,"title",i=e[73].title),at(n,"class","emoji"),at(n,"id",r="fav-"+e[73].id),this.first=n},m(t,e){ot(t,n,e),a.m(n,null)},p(t,u){c===(c=s(e=t))&&a?a.p(e,u):(a.d(1),a=c(e),a&&(a.c(),a.m(n,null))),640&u[0]&&o!==(o=e[29](e[73],e[7]))&&at(n,"aria-label",o),512&u[0]&&i!==(i=e[73].title)&&at(n,"title",i),512&u[0]&&r!==(r="fav-"+e[73].id)&&at(n,"id",r)},d(t){t&&it(n),a.d()}}}function ve(t){let e,n,o,i,r,s,c,a,u,l,d,f,m,h,p,v,b,g,y,k,j,w,x,E,z,S,T,_,$,A,D,C,M,O,P,B,L,U,F,I,R,N,X,q,H=t[0].searchLabel+"",J=t[0].searchDescription+"",Q=t[0].skinToneDescription+"",Y=[],Z=new Vt,V=[],tt=new Vt,et=[],ft=new Vt,mt=t[8];const ht=t=>t[84];for(let e=0;e<mt.length;e+=1){let n=re(t,mt,e),o=ht(n);Z.set(o,Y[e]=se(o,n))}let pt=t[10];const vt=t=>t[76].id;for(let e=0;e<pt.length;e+=1){let n=ie(t,pt,e),o=vt(n);tt.set(o,V[e]=ce(o,n))}let bt=t[27]||[],gt=[];for(let e=0;e<bt.length;e+=1)gt[e]=fe(ee(t,bt,e));let yt=t[9];const kt=t=>t[73].id;for(let e=0;e<yt.length;e+=1){let n=te(t,yt,e),o=kt(n);ft.set(o,et[e]=pe(o,n))}return{c(){e=rt("section"),n=rt("div"),o=rt("div"),i=rt("div"),r=rt("input"),u=rt("label"),l=st(H),d=rt("span"),f=st(J),m=rt("div"),h=rt("button"),p=st(t[20]),g=rt("span"),y=st(Q),k=rt("div");for(let t=0;t<Y.length;t+=1)Y[t].c();z=rt("div");for(let t=0;t<V.length;t+=1)V[t].c();T=rt("div"),_=rt("div"),$=rt("div"),A=st(t[17]),C=rt("div"),M=rt("div");for(let t=0;t<gt.length;t+=1)gt[t].c();U=rt("div");for(let t=0;t<et.length;t+=1)et[t].c();R=rt("button"),R.textContent="😀",at(n,"class","pad-top"),at(r,"id","search"),at(r,"class","search"),at(r,"type","search"),at(r,"role","combobox"),at(r,"enterkeyhint","search"),at(r,"placeholder",s=t[0].searchLabel),at(r,"autocapitalize","none"),at(r,"autocomplete","off"),at(r,"spellcheck","true"),at(r,"aria-expanded",c=!(!t[3]||!t[1].length)),at(r,"aria-controls","search-results"),at(r,"aria-owns","search-results"),at(r,"aria-describedby","search-description"),at(r,"aria-autocomplete","list"),at(r,"aria-activedescendant",a=t[26]?`emo-${t[26]}`:""),at(u,"class","sr-only"),at(u,"for","search"),at(d,"id","search-description"),at(d,"class","sr-only"),at(i,"class","search-wrapper"),at(h,"id","skintone-button"),at(h,"class",v="emoji "+(t[5]?"hide-focus":"")),at(h,"aria-label",t[22]),at(h,"title",t[22]),at(h,"aria-describedby","skintone-description"),at(h,"aria-haspopup","listbox"),at(h,"aria-expanded",t[5]),at(h,"aria-controls","skintone-list"),at(m,"class",b="skintone-button-wrapper "+(t[18]?"expanded":"")),at(g,"id","skintone-description"),at(g,"class","sr-only"),at(k,"id","skintone-list"),at(k,"class",j="skintone-list "+(t[5]?"":"hidden no-animate")),dt(k,"transform","translateY("+(t[5]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),at(k,"role","listbox"),at(k,"aria-label",w=t[0].skinTonesLabel),at(k,"aria-activedescendant",x="skintone-"+t[19]),at(k,"aria-hidden",E=!t[5]),at(o,"class","search-row"),at(z,"class","nav"),at(z,"role","tablist"),dt(z,"grid-template-columns","repeat("+t[10].length+", 1fr)"),at(z,"aria-label",S=t[0].categoriesLabel),at(_,"class","indicator"),dt(_,"transform","translateX("+(t[23]?-1:1)*t[25]*100+"%)"),at(T,"class","indicator-wrapper"),at($,"class",D="message "+(t[17]?"":"gone")),at($,"role","alert"),at($,"aria-live","polite"),at(C,"class",O="tabpanel "+(!t[12]||t[17]?"gone":"")),at(C,"role",P=t[3]?"region":"tabpanel"),at(C,"aria-label",B=t[3]?t[0].searchResultsLabel:t[0].categories[t[11].name]),at(C,"id",L=t[3]?"":`tab-${t[11].id}`),at(C,"tabindex","0"),at(U,"class",F="favorites emoji-menu gone "+(t[17]?"gone":"")),at(U,"role","menu"),at(U,"aria-label",I=t[0].favoritesLabel),dt(U,"padding-inline-end",t[24]+"px"),at(R,"aria-hidden","true"),at(R,"tabindex","-1"),at(R,"class","abs-pos hidden emoji"),at(e,"class","picker"),at(e,"aria-label",N=t[0].regionLabel),at(e,"style",t[21])},m(s,c){ot(s,e,c),nt(e,n),nt(e,o),nt(o,i),nt(i,r),lt(r,t[2]),nt(i,u),nt(u,l),nt(i,d),nt(d,f),nt(o,m),nt(m,h),nt(h,p),nt(o,g),nt(g,y),nt(o,k);for(let t=0;t<Y.length;t+=1)Y[t].m(k,null);t[52](k),nt(e,z);for(let t=0;t<V.length;t+=1)V[t].m(z,null);nt(e,T),nt(T,_),nt(e,$),nt($,A),nt(e,C),nt(C,M);for(let t=0;t<gt.length;t+=1)gt[t].m(M,null);t[54](C),nt(e,U);for(let t=0;t<et.length;t+=1)et[t].m(U,null);var a;nt(e,R),t[56](R),t[57](e),X||(q=[ct(r,"input",t[51]),ct(r,"keydown",t[31]),ct(h,"click",t[37]),ct(k,"focusout",t[40]),ct(k,"click",t[36]),ct(k,"keydown",t[38]),ct(k,"keyup",t[39]),ct(z,"keydown",t[34]),(a=t[30].call(null,M),a&&W(a.destroy)?a.destroy:K),ct(C,"click",t[35]),ct(C,"scroll",t[55]),ct(U,"click",t[35])],X=!0)},p(t,n){if(1&n[0]&&s!==(s=t[0].searchLabel)&&at(r,"placeholder",s),10&n[0]&&c!==(c=!(!t[3]||!t[1].length))&&at(r,"aria-expanded",c),67108864&n[0]&&a!==(a=t[26]?`emo-${t[26]}`:"")&&at(r,"aria-activedescendant",a),4&n[0]&&lt(r,t[2]),1&n[0]&&H!==(H=t[0].searchLabel+"")&&ut(l,H),1&n[0]&&J!==(J=t[0].searchDescription+"")&&ut(f,J),1048576&n[0]&&ut(p,t[20]),32&n[0]&&v!==(v="emoji "+(t[5]?"hide-focus":""))&&at(h,"class",v),4194304&n[0]&&at(h,"aria-label",t[22]),4194304&n[0]&&at(h,"title",t[22]),32&n[0]&&at(h,"aria-expanded",t[5]),262144&n[0]&&b!==(b="skintone-button-wrapper "+(t[18]?"expanded":""))&&at(m,"class",b),1&n[0]&&Q!==(Q=t[0].skinToneDescription+"")&&ut(y,Q),524545&n[0]&&(mt=t[8],Y=At(Y,n,ht,1,t,mt,Z,k,$t,se,null,re)),32&n[0]&&j!==(j="skintone-list "+(t[5]?"":"hidden no-animate"))&&at(k,"class",j),32&n[0]&&dt(k,"transform","translateY("+(t[5]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),1&n[0]&&w!==(w=t[0].skinTonesLabel)&&at(k,"aria-label",w),524288&n[0]&&x!==(x="skintone-"+t[19])&&at(k,"aria-activedescendant",x),32&n[0]&&E!==(E=!t[5])&&at(k,"aria-hidden",E),3081&n[0]|2&n[1]&&(pt=t[10],V=At(V,n,vt,1,t,pt,tt,z,$t,ce,null,ie)),1024&n[0]&&dt(z,"grid-template-columns","repeat("+t[10].length+", 1fr)"),1&n[0]&&S!==(S=t[0].categoriesLabel)&&at(z,"aria-label",S),41943040&n[0]&&dt(_,"transform","translateX("+(t[23]?-1:1)*t[25]*100+"%)"),131072&n[0]&&ut(A,t[17]),131072&n[0]&&D!==(D="message "+(t[17]?"":"gone"))&&at($,"class",D),939533465&n[0]){let e;for(bt=t[27]||[],e=0;e<bt.length;e+=1){const o=ee(t,bt,e);gt[e]?gt[e].p(o,n):(gt[e]=fe(o),gt[e].c(),gt[e].m(M,null))}for(;e<gt.length;e+=1)gt[e].d(1);gt.length=bt.length}135168&n[0]&&O!==(O="tabpanel "+(!t[12]||t[17]?"gone":""))&&at(C,"class",O),8&n[0]&&P!==(P=t[3]?"region":"tabpanel")&&at(C,"role",P),2057&n[0]&&B!==(B=t[3]?t[0].searchResultsLabel:t[0].categories[t[11].name])&&at(C,"aria-label",B),2056&n[0]&&L!==(L=t[3]?"":`tab-${t[11].id}`)&&at(C,"id",L),805307008&n[0]&&(yt=t[9],et=At(et,n,kt,1,t,yt,ft,U,$t,pe,null,te)),131072&n[0]&&F!==(F="favorites emoji-menu gone "+(t[17]?"gone":""))&&at(U,"class",F),1&n[0]&&I!==(I=t[0].favoritesLabel)&&at(U,"aria-label",I),16777216&n[0]&&dt(U,"padding-inline-end",t[24]+"px"),1&n[0]&&N!==(N=t[0].regionLabel)&&at(e,"aria-label",N),2097152&n[0]&&at(e,"style",t[21])},i:K,o:K,d(n){n&&it(e);for(let t=0;t<Y.length;t+=1)Y[t].d();t[52](null);for(let t=0;t<V.length;t+=1)V[t].d();!function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(gt,n),t[54](null);for(let t=0;t<et.length;t+=1)et[t].d();t[56](null),t[57](null),X=!1,G(q)}}}function be(t){return`<img class="${"recents"!==t?"category-img":"category-img current"}" id=${`${t}-img`} src=${`chrome-extension://oocalimimngaihdkbihfgmpkcpnmlaoa/img/emoji_categories/icon_emoji_${t}.svg`} >`}function ge(t,e,n){let o,i,r,s,c,a,u,l,d,f,{skinToneEmoji:m}=e,{i18n:h}=e,{database:p}=e,{customEmoji:v}=e,{customCategorySorting:b}=e,g=[],y=[],k=[],j="",w="",x=!1,E=-1,z=!1,S=!1,T=0,_=0,$="",A=[],D=[],C=8,M=!1,O=0,P=0,B=Mt,L=B[0],U=0,F=!1,I=[];window.addEventListener("message",(function(t){t.data&&"TP_FREQ_USED"===t.data.type&&Yt((()=>{f=t.data.data}))})),window.postMessage("TP_EMOJI_REQ_RELOAD");const R=t=>{o.getRootNode().getElementById(t).focus()},N=(t,e)=>{o.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,composed:!0}))},X=(t,e)=>e&&t.skins&&t.skins[e]||t.unicode,q=t=>/^skintone-/.test(t.id);function H(t){const e=o.getRootNode();!function(t,e,n){for(const o of t){const t=Zt(n(o));void 0===Gt&&(Gt=Zt(e));const i=t/1.8<Gt;Ht.set(o.unicode,i)}}(t,i,(t=>e.getElementById(`emo-${t.id}`))),n(1,g=g),n(46,k),n(12,F),n(47,w),n(11,L),n(10,B),n(1,g),n(3,x),n(0,h),n(41,p),n(2,j),n(50,P),n(43,v)}function K(t){return!t.unicode||!Bt(t)||Ht.get(t.unicode)}function Q(t){return J(this,void 0,void 0,(function*(){const e=yield qt;return t.filter((({version:t})=>!t||t<=e))}))}function Y(t){return J(this,void 0,void 0,(function*(){return function(t,e){const n=t=>{const n={};for(const o of t)"number"==typeof o.tone&&o.version<=e&&(n[o.tone]=o.unicode);return n};return t.map((({unicode:t,skins:e,shortcodes:o,url:i,name:r,category:s})=>({unicode:t,name:r,shortcodes:o,url:i,category:s,id:t||r,skins:e&&n(e),title:(o||[]).join(", ")})))}(t,yield qt)}))}function G(t){return J(this,void 0,void 0,(function*(){if(yield function(){return J(this,void 0,void 0,(function*(){if(f)return;const t=(yield Promise.all(Ft.map((t=>p.getEmojiByUnicodeOrName(t))))).filter(Boolean);f||(f=t)}))}(),void 0===t)return[];let e=-1===t?v:yield p.getEmojiByGroup(t);return 0===t&&(e=e.concat(yield p.getEmojiByGroup(1))),10===t&&(e=f),Y(yield Q(e))}))}function W(t){return J(this,void 0,void 0,(function*(){n(2,j=""),n(47,w=""),n(4,E=-1),n(25,U=B.findIndex((e=>e.id===t.id))),n(50,P=U),yield kt(),setTimeout((()=>{const e=o.getRootNode();e.querySelectorAll(".category-img").forEach((t=>{t.classList.remove("current")})),e.getElementById(`${t.name}-img`).classList.add("current");var n=e.getElementById(`${B[U].name}`);n.offsetParent.scrollTop=n.offsetTop}),50)}))}function Z(){if(x)return;const t=o.getRootNode(),e=t.querySelectorAll(".category-img");let i=(r||{}).scrollTop;e.forEach(((o,r)=>{const s=r,c=B[s].name,a=t.getElementById(`${c}`),u=t.getElementById(`emoji-menu-${c}`);a&&a.offsetTop<=i&&a.offsetTop+u.offsetHeight+a.offsetHeight-5>i&&(e.forEach((t=>{t.classList.remove("current")})),o.classList.add("current"),n(25,U=s),n(50,P=U))}))}function V(t){return J(this,void 0,void 0,(function*(){const e=yield p.getEmojiByUnicodeOrName(t);let o;for(const e of k)if(o=e.find((e=>e.id===t)),o)break;const i=o.unicode&&X(o,T);yield p.incrementFavoriteEmojiCount(t),N("emoji-click",Object.assign(Object.assign({emoji:e,skinTone:T},i&&{unicode:i}),o.name&&{name:o.name})),r.scrollTop,n(50,P=U)}))}function tt(t){return J(this,void 0,void 0,(function*(){const{target:e}=t;if(!q(e))return;Jt(t);const o=parseInt(e.id.slice(9),10);n(7,T=o),n(5,z=!1),R("skintone-button"),N("skin-tone-change",{skinTone:o}),p.setPreferredSkinTone(o)}))}qt.then((t=>{t||n(17,s=h.emojiUnsupportedMessage)}));return t.$$set=t=>{"skinToneEmoji"in t&&n(42,m=t.skinToneEmoji),"i18n"in t&&n(0,h=t.i18n),"database"in t&&n(41,p=t.database),"customEmoji"in t&&n(43,v=t.customEmoji),"customCategorySorting"in t&&n(44,b=t.customCategorySorting)},t.$$.update=()=>{if(5120&t.$$.dirty[1]&&v&&p&&n(41,p.customEmoji=v,p),1&t.$$.dirty[0]|1024&t.$$.dirty[1]){function e(){return J(this,void 0,void 0,(function*(){let t=!1;const e=setTimeout((()=>{t=!0,n(17,s=h.loadingMessage)}),1e3);try{yield p.ready(),n(12,F=!0)}catch(t){console.error(t),n(17,s=h.networkErrorMessage)}finally{clearTimeout(e),t&&(t=!1,n(17,s=""))}}))}p&&e()}if(1024&t.$$.dirty[0]|4096&t.$$.dirty[1]&&(v&&v.length?n(10,B=[Ot,...Mt]):B!==Mt&&n(10,B=Mt)),4&t.$$.dirty[0]&&Pt((()=>{n(47,w=(j||"").trim()),n(4,E=-1)})),1024&t.$$.dirty[0]|524288&t.$$.dirty[1]&&n(11,L=B[P]),7168&t.$$.dirty[0]|65536&t.$$.dirty[1]){function o(){return J(this,void 0,void 0,(function*(){if(F){if(w.length>=2){n(3,x=!0);const t=w,e=yield function(t){return J(this,void 0,void 0,(function*(){return Y(yield Q(yield p.getEmojiBySearchQuery(t)))}))}(t);t===w&&(n(1,g=e),n(46,k=[e]),n(27,I=[e]))}else if(L){L.id;const t=yield G(10),e=yield function(){return J(this,void 0,void 0,(function*(){const t=window.sessionStorage.getItem("FREQUENTLY_USED");if(!t||JSON.parse(t),"undefined"==typeof group)return[];let e=[];e=e.concat(f);for(let t=1;t<B.length;t++)e=e.concat(yield p.getEmojiByGroup(B[t].id));return Y(yield Q(e))}))}();let o=[];o[0]=t;for(let t=1;t<B.length;t++){const e=B[t].id,n=yield G(e);o[t]=n}n(46,k=o),n(1,g=t.concat(e)),n(3,x=!1)}}else n(1,g=[]),n(46,k=[]),n(3,x=!1)}))}o()}if(1032&t.$$.dirty[0]&&n(21,u=`\n  --font-family: ${It};\n  --num-groups: ${B.length}; \n  --indicator-opacity: ${x?0:1}; \n  --num-skintones: 6;`),4096&t.$$.dirty[0]|1024&t.$$.dirty[1]){function i(){return J(this,void 0,void 0,(function*(){F&&n(7,T=yield p.getPreferredSkinTone())}))}i()}if(2048&t.$$.dirty[1]&&n(8,A=Array(6).fill().map(((t,e)=>function(t,e){if(0===e)return t;const n=t.indexOf("‍");return-1!==n?t.substring(0,n)+String.fromCodePoint(127995+e-1)+t.substring(n):(t.endsWith("️")&&(t=t.substring(0,t.length-1)),t+"\ud83c"+String.fromCodePoint(57339+e-1))}(m,e)))),384&t.$$.dirty[0]&&n(20,a=A[T]),129&t.$$.dirty[0]&&n(22,$=h.skinToneLabel.replace("{skinTone}",h.skinTones[T])),4096&t.$$.dirty[0]|1024&t.$$.dirty[1]){function r(){return J(this,void 0,void 0,(function*(){n(48,l=(yield Promise.all(Ut.map((t=>p.getEmojiByUnicodeOrName(t))))).filter(Boolean))}))}F&&r()}if(4096&t.$$.dirty[0]|394240&t.$$.dirty[1]){function _(){return J(this,void 0,void 0,(function*(){const t=yield p.getTopFavoriteEmoji(C),e=yield Y(Qt([...t,...l],(t=>t.unicode||t.name)).slice(0,C));n(9,D=e)}))}F&&l&&_()}if(10&t.$$.dirty[0]|32768&t.$$.dirty[1]){const M=g.filter((t=>t.unicode)).filter((t=>Bt(t)&&!Ht.has(t.unicode))),O=k.map((t=>t.filter((t=>t.unicode)).filter((t=>Bt(t)&&!Ht.has(t.unicode)))));M.length?(x||Yt((()=>O.forEach((t=>H(t))))),Yt((()=>H(M)))):(n(1,g=g.filter(K)),n(46,k=k.map((t=>t.filter(K)))),Yt((()=>{})))}if(t.$$.dirty[0],t.$$.dirty[1],10&t.$$.dirty[0]|8192&t.$$.dirty[1]){function U(){if(x)return[{category:"",emojis:g}];const t=new Map;for(const e of g){const n=e.category||"";let o=t.get(n);o||(o=[],t.set(n,o)),o.push(e)}return[...t.entries()].map((([t,e])=>({category:t,emojis:e}))).sort(((t,e)=>b(t.category,e.category)))}n(13,y=U())}if(10&t.$$.dirty[0]|40960&t.$$.dirty[1]){function R(t){if(x)return[{category:"",emojis:g}];const e=new Map;for(const n of t){const t=n.category||"";let o=e.get(t);o||(o=[],e.set(t,o)),o.push(n)}return[...e.entries()].map((([t,e])=>({category:t,emojis:e}))).sort(((t,e)=>b(t.category,e.category)))}k.map(((t,e)=>n(27,I[e]=R(t),I)))}18&t.$$.dirty[0]&&n(26,d=-1!==E&&g[E].id),96&t.$$.dirty[0]&&(z?c.addEventListener("transitionend",(()=>{n(18,S=!0)}),{once:!0}):n(18,S=!1))},[h,g,j,x,E,z,c,T,A,D,B,L,F,y,o,i,r,s,S,_,a,u,$,M,O,U,d,I,X,(t,e)=>{return(n=[t.name||X(t,e),...t.shortcodes||[]],Qt(n,(t=>t))).join(", ");var n},function(t){return function(t,e){let n;return Wt?(n=new ResizeObserver((t=>e(t[0].contentRect.width))),n.observe(t)):Yt((()=>e(t.getBoundingClientRect().width))),{destroy(){n&&n.disconnect()}}}(t,(e=>{{const i=getComputedStyle(o),r=parseInt(i.getPropertyValue("--num-columns"),10),s="rtl"===i.getPropertyValue("direction"),c=t.parentElement.getBoundingClientRect().width-e;n(49,C=r),n(24,O=c),n(23,M=s)}}))},function(t){if(!x||!g.length)return;const e=e=>{Jt(t),n(4,E=Kt(e,E,g))};switch(t.key){case"ArrowDown":return e(!1);case"ArrowUp":return e(!0);case"Enter":if(-1!==E)return Jt(t),V(g[E].id);g.length&&n(4,E=0)}},W,Z,function(t){const{target:e,key:n}=t,o=e=>{e&&(Jt(t),e.focus())};switch(n){case"ArrowLeft":return o(e.previousSibling);case"ArrowRight":return o(e.nextSibling);case"Home":return o(e.parentElement.firstChild);case"End":return o(e.parentElement.lastChild)}},function(t){return J(this,void 0,void 0,(function*(){const{target:e}=t;if(!e.classList.contains("emoji"))return;Jt(t);V(e.id.substring(4))}))},tt,function(t){return J(this,void 0,void 0,(function*(){n(5,z=!z),n(19,_=T),z&&(Jt(t),Yt((()=>R(`skintone-${_}`))))}))},function(t){if(!z)return;const e=e=>J(this,void 0,void 0,(function*(){Jt(t),n(19,_=e),yield kt(),R(`skintone-${_}`)}));switch(t.key){case"ArrowUp":return e(Kt(!0,_,A));case"ArrowDown":return e(Kt(!1,_,A));case"Home":return e(0);case"End":return e(A.length-1);case"Enter":return tt(t);case"Escape":return Jt(t),n(5,z=!1),R("skintone-button")}},function(t){if(z)return" "===t.key?tt(t):void 0},function(t){return J(this,void 0,void 0,(function*(){const{relatedTarget:e}=t;e&&q(e)||n(5,z=!1)}))},p,m,v,b,!0,k,w,l,C,P,function(){j=this.value,n(2,j)},function(t){ht[t?"unshift":"push"]((()=>{c=t,n(6,c)}))},t=>W(t),function(t){ht[t?"unshift":"push"]((()=>{r=t,n(16,r)}))},()=>Z(),function(t){ht[t?"unshift":"push"]((()=>{i=t,n(15,i)}))},function(t){ht[t?"unshift":"push"]((()=>{o=t,n(14,o)}))}]}class ye extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(G(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=K}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),Dt(this,t,ge,ve,Z,{skinToneEmoji:42,i18n:0,database:41,customEmoji:43,customCategorySorting:44},null,[-1,-1,-1])}}var ke={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading…",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom",smileys:"Smileys and emoticons",people:"People and body",leaf:"Animals and nature",food:"Food and drink",places:"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flag:"Flags",recents:"Frequently Used"}};const je=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji"];class we extends HTMLElement{constructor(t){super(),this.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent=':host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.dark),:host(.light){--button-active-background:#555555;--button-hover-background:#484848;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef}@media (prefers-color-scheme:dark){:host{--button-active-background:#555555;--button-hover-background:#484848;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);width:100%;height:100%;overflow:hidden;--total-emoji-size:32px;--total-category-emoji-size:24px}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}::-webkit-scrollbar{width:0}::-webkit-scrollbar-thumb{background:#ef3e3a;border-radius:10px}.skintone-button-wrapper{background:var(--background);z-index:3;user-select:none;-webkit-user-select:none}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;background:var(--background);border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%;user-select:none;row-gap:8px;-webkit-user-select:none}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color);letter-spacing:1px;padding-top:16px;padding-bottom:8px;text-transform:uppercase;font-weight:600}.emoji-wrapper:hover{transform:scale(1.05)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:"Poppins",sans-serif;cursor:pointer;background:0 0;transition:.1s ease;transform:scale(1);backface-visibility:hidden;--webkit-backface-visibility:hidden}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{transform:scale(1.05);border-radius:4px;background:rgba(240,240,240,.1098039216)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content;height:32px}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.category-img{width:60%;height:60%;opacity:.5}.category-img.current,.category-img:hover{opacity:1}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background:linear-gradient(91.19deg,#ef3e3a 0,#ef3e3a .01%,#9e55a0 100%);will-change:transform,opacity;transition:opacity .1s linear,transform .02s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top{width:100%;height:var(--emoji-padding);z-index:3;background:var(--background)}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);background:#0a0a0a;color:var(--input-font-color);width:216px;font-size:var(--input-font-size);font-family:"Poppins",sans-serif;line-height:var(--input-line-height)}input.search::placeholder{color:#5a5a5a}input.search:focus{outline-color:#5a5a5a}input.search::-webkit-search-cancel-button{display:none}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}',this.shadowRoot.appendChild(e),this.S=Object.assign({locale:"en",dataSource:"chrome-extension://oocalimimngaihdkbihfgmpkcpnmlaoa/lib/tp_emoji/emoji-picker.json",skinToneEmoji:"👋",customCategorySorting:Rt,customEmoji:null,i18n:ke},t);for(const t of je)"database"!==t&&Object.prototype.hasOwnProperty.call(this,t)&&(this.S[t]=this[t],delete this[t]);this.T()}connectedCallback(){this._=new ye({target:this.shadowRoot,props:this.S})}disconnectedCallback(){this._.$destroy(),this._=void 0;const{database:t}=this.S;t&&t.close().catch((t=>console.error(t)))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji"]}attributeChangedCallback(t,e,n){this.$(t.replace(/-([a-z])/g,((t,e)=>e.toUpperCase())),n)}$(t,e){this.S[t]=e,this._&&this._.$set({[t]:e}),["locale","dataSource"].includes(t)&&this.T()}A(){const{locale:t,dataSource:e,database:n}=this.S;n&&n.locale===t&&n.dataSource===e||this.$("database",new H({locale:t,dataSource:e}))}T(){Promise.resolve().then((()=>this.A()))}}const xe={};for(const t of je)xe[t]={get(){return"database"===t&&this.A(),this.S[t]},set(e){if("database"===t)throw new Error("database is read-only");this.$(t,e)}};Object.defineProperties(we.prototype,xe),customElements.get("emoji-picker")||customElements.define("emoji-picker",we)})();